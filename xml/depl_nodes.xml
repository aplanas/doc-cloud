<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha.depl.ostack">
 <title>Deploying the &ostack; Services</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
    <dm:maintainer>fs</dm:maintainer>
    <dm:status>editing</dm:status>
    <dm:deadline/>
    <dm:priority/>
    <dm:translation>no</dm:translation>
    <dm:languages/>
  </dm:docmanager>
 </info>
 <para>
  After the nodes are installed and configured you can start deploying the
  &ostack; components to finalize the installation. The components need to be
  deployed in a given order, because they depend on one another. The
  <guimenu>Pacemaker</guimenu> component for an &hasetup; is the only
  exception from this rule&mdash;it can be set up at any time. However,
  when deploying &productname; from scratch, it is recommended to deploy
  the <guimenu>Pacemaker</guimenu> proposal(s) first. Deployment for all
  components is done from the &crow; Web interface through recipes,
  so-called <quote>&barcl;s</quote>.
 </para>
 <para>
  The components controlling the cloud (including storage management and
  control components) need to be installed on the &contrnode;(s) (refer to
  <xref linkend="sec.depl.arch.components.control"/> for more information).
  However, you may <emphasis>not</emphasis> use your &contrnode;(s) as a
  compute node or storage host for &o_objstore; or &ceph;. Here is a
  list with components that may <emphasis>not</emphasis> be installed on the
  &contrnode;(s): <guimenu>swift-storage</guimenu>, all &ceph;
  components, <guimenu>nova-compute-*</guimenu>. These components need to be
  installed on dedicated nodes.
 </para>
 <para>
  When deploying an &hasetup;, the controller nodes are replaced by one or
  more controller clusters consisting of at least two nodes (three are
  recommended). Setting up three separate clusters&mdash;for data,
  services, and networking&mdash;is recommended. See
  <xref linkend="sec.depl.req.ha"/> for more information on requirements and
  recommendations for an &hasetup;.
 </para>
 <para>
  The &ostack; components need to be deployed in the following order. For
  general instructions on how to edit and deploy &barcl;, refer to
  <xref linkend="sec.depl.ostack.barclamps"/>. Deploying Pacemaker (only
  needed for an &hasetup;), &o_objstore; and &ceph; is optional;
  all other components must be deployed.
 </para>
 <orderedlist spacing="normal">
  <listitem>
<!-- Pacemaker -->
   <para>
    <xref linkend="sec.depl.ostack.pacemaker" xrefstyle="select:title
    nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- Database -->
   <para>
    <xref linkend="sec.depl.ostack.db" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- RabbitMQ -->
   <para>
    <xref linkend="sec.depl.ostack.rabbit" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- Keystone -->
   <para>
    <xref linkend="sec.depl.ostack.keystone" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- Ceph -->
   <para>
    <xref linkend="sec.depl.ostack.ceph" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- Swift -->
   <para>
    <xref linkend="sec.depl.ostack.swift" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
<!-- Glance -->
   <para>
    <xref linkend="sec.depl.ostack.glance" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Cinder -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.cinder" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Neutrum -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.quantum" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Nova -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.nova" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Horizon -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.dash" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Heat -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.heat" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Ceilometer -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.ceilometer" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Manila -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.manila" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Trove -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.trove" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
<!-- Tempest -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.tempest" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <!-- Magnum -->
  <listitem>
   <para>
    <xref linkend="sec.depl.ostack.magnum" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
 </orderedlist>

 <xi:include href="depl_pacemaker_i.xml"/>
 <xi:include href="depl_db_i.xml"/>
 <xi:include href="depl_rabbit_i.xml"/>
 <xi:include href="depl_keystone_i.xml"/>
 <xi:include href="depl_ceph_i.xml"/>
 <xi:include href="depl_swift_i.xml"/>
 <xi:include href="depl_glance_i.xml"/>
 <xi:include href="depl_cinder_i.xml"/>
 <xi:include href="depl_quantum_i.xml"/>
 <xi:include href="depl_nova_i.xml"/>
 <xi:include href="depl_dash_i.xml"/>
 <xi:include href="depl_heat_i.xml"/>
 <xi:include href="depl_ceilometer_i.xml"/>
 <xi:include href="depl_manila_i.xml"/>
 <xi:include href="depl_trove_i.xml"/>
 <xi:include href="depl_tempest_i.xml"/>
 <xi:include href="depl_magnum_i.xml"/>
 <xi:include href="depl_barbican_i.xml"/>
 <xi:include href="depl_sahara_i.xml"/>

 <sect1 xml:id="sec.depl.ostack.final">
  <title>How to Proceed</title>

  <para>
   With a successful deployment of the &ostack; &dash;, the
   &productname; installation is finished. To be able to test your setup
   by starting an &vmguest; one last step remains to be
   done&mdash;uploading an image to the &o_img; component. Refer to the
   &cloudsuppl;, chapter <citetitle>Manage images</citetitle>
<!--<xref linkend="sec.adm.cli.img"/>-->
   for instructions. Images for &cloud; can be built in SUSE Studio.
   Refer to the &cloudsuppl;, section <citetitle>Building Images with
   &susestudio;</citetitle>.
  </para>

  <para>
   Now you can hand over to the cloud administrator to set up users, roles,
   flavors, etc.&mdash;refer to the &cloudadmin; for details. The
   default credentials for the &ostack; &dash; are user name
   <literal>admin</literal> and password <literal>crowbar</literal>.
  </para>
 </sect1>
</chapter>
